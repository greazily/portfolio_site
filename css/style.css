/* 1. Font and Root Variables */
@font-face {
  font-family: 'variable';
  src: url('font/ClashGrotesk-Variable.woff2') format("woff2 supports variations"),
       url('font/ClashGrotesk-Variable.woff2') format("woff2-variations");
  font-weight: 100 1000;
}

:root {
  --color: 0, 0%, 91%;
  --color2: 50, 2%, 52%;
  --gap: 0.5rem;
  --width: 100px;
  font-family: 'variable';
  font-size: 12px;
  color: hsl(var(--color));
  background-color: hsl(var(--color2));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

*, *::before, *::after { box-sizing: border-box; }

/* 2. Reset and Base Styles */
body, h2, h3, button, p {
  margin: 0;
  padding: 0;
  font-family: 'variable';
  font-size: 1rem;
  font-weight: 400;
  font-variation-settings: "wght" 440;
}

button, input[type="submit"], input[type="reset"] {
  background: none;
  color: inherit;
  border: none;
  padding: 0;
  font-size: inherit;
  cursor: pointer;
  outline: none;
  width: var(--width);
  height: 1rem;
}

h2, button {
  text-transform: uppercase;
  vertical-align: middle;
  line-height: 0;
  transition: font-variation-settings 400ms ease-in-out;
}

.title { width: 100%; max-width: 150px; }

/* 3. Layout */
body { height: 100lvh; }

main {
  display: grid;
  justify-items: center;
  grid-template-rows: auto 1fr;
  height: 100dvh;
  width: 100vw;
}

header {
  width: fit-content;
  max-width: calc(var(--width) * 6);
  display: grid;
  justify-items: center;
  margin-top: var(--gap);
  background: var(--color2);
  /* padding-block: var(--gap); */
}

/* 4. Expander/Accordion */
.expander {
  display: grid;
  justify-items: center;
  transition: padding-block 400ms;
  padding-block: calc(var(--gap) * 0.7);
}
.expander.about { margin-bottom: calc(var(--gap) * 6); }
.expander.active {
  gap: calc(var(--gap) * 1.5);
  padding-block: calc(var(--gap) * 1.5);
}
.expander.active .information { grid-template-rows: 1fr; }
.expander.about button::before { content: "about"; }
.expander.info button::before { content: "info"; }
.expander.active button::before {
  content: "Ã—";
  font-size: 2rem;
  font-variation-settings: "wght" 300;
}

/* 5. Information Section */
.information {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 400ms;
}
.text {
  overflow: hidden;
  display: grid;
  gap: calc(var(--gap) * 1.5);
  padding-inline: calc(var(--gap) * 3);
  text-align: justify;
  text-align-last: center;
  font-size: 1.1rem;
  hyphens: auto;
  text-wrap: pretty;
}
.text p { font-size: 1.1rem; }

/* 6. Marquee/Track/Items */
.marquee, .track, .item, .part, button {
  display: flex;
  align-items: center;
  justify-content: center;
}
.marquee {
  overflow-x: hidden;
  width: 100%;
  height: 1.4rem;
}
.track, .part {
  width: fit-content;
  height: 100%;
}
.item {
  height: 100%;
  border-inline: 1px solid hsl(var(--color2));
  width: var(--width);
  flex-shrink: 0;
  will-change: transform;
  background-color: hsla(var(--color), 0.1);
  transition: all 400ms 100ms ease-in-out;
  padding-top: 0.05em;
}
.item.active {
  color: hsl(var(--color2));
  background-color: hsla(var(--color), 1);
}
.item.wide { width: calc(var(--width) * 2.1053); }

/* 7. Loading and Canvas */
.loading-container {
  font-size: 1.3rem;
  z-index: 10000;
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  background: hsl(var(--color2));
  width: 100%;
  height: 100%;
}

.canvas-container, #canvas {
  width: 100%;
  height: 100%;
}
.canvas-container {
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}
#canvas {
  display: block;
  object-fit: cover;
}

/* 8. Miscellaneous */
.arrow {
  height: 0.6rem;
  margin-bottom: calc(var(--gap) * 0.7);
}

/* 9. Media Queries */
@media (min-width: 636px) {
  :root { font-size: 11px; }
  .expander.about { margin-bottom: calc(var(--gap) * 3); }
  .text { padding-inline: 0; }
}